"use strict";var playBtn=document.querySelector(".bao__main-descr-btn"),wheel=document.querySelector(".bao__main-wheel-reel"),overlay=document.querySelector(".bao__overlay"),popupFirst=document.querySelector(".bao__firstWin"),popupFirstBtn=document.querySelector(".bao__firstWin-btn"),popupSecond=document.querySelector(".bao__secondWin"),overflow=document.querySelector("body"),wrapper=document.querySelector(".bao"),counter=document.querySelector(".counter"),triesCounter=0;function runFirstRotation(){wheel.classList.add("reel-rotation-first"),wrapper.style.pointerEvents="none",setTimeout(function(){doAfterFirstRotation()},5300),triesCounter++}function doAfterFirstRotation(){wheel.style.transform="rotate(900deg)",wheel.classList.remove("reel-rotation-first"),displayPopup(popupFirst),wrapper.style.pointerEvents="auto",overflow.style.overflow="hidden"}function runSecondRotation(){wheel.classList.add("reel-rotation-second"),overflow.style.overflow="hidden",wrapper.style.pointerEvents="none",setTimeout(function(){doAfterSecondRotation()},5300),triesCounter++}function doAfterSecondRotation(){displayPopup(popupSecond),wrapper.style.pointerEvents="auto"}function displayPopup(e){overlay.classList.remove("opacity-overlay"),e.classList.remove("hide")}playBtn.addEventListener("click",function(){(0===triesCounter?runFirstRotation:runSecondRotation)()}),popupFirstBtn.addEventListener("click",function(){overlay.classList.add("opacity-overlay"),popupFirst.classList.add("hide"),overflow.style.overflow="unset"}),function(){var e,a=new URL(window.location.href),n=["l","utm_source","utm_medium","utm_campaign","utm_term","utm_content","param1","param2","param3","param4","creative_type","creative_id"];a.searchParams.has("redirectUrl")&&4===(e=new URL(a.searchParams.get("redirectUrl"))).href.match(/\//g).length&&e.searchParams.get("l")&&localStorage.setItem("redirectUrl",e.href),n.forEach(function(e){a.searchParams.has(e)&&localStorage.setItem(e,a.searchParams.get(e))}),["affid","cpaid"].forEach(function(e){a.searchParams.has(e)&&localStorage.setItem(e,a.searchParams.get(e))}),window.addEventListener("click",function(e){var t,r,o=e.target.closest("a");"https://tds.favbet.partners"===o.getAttribute("href")&&o&&(e.preventDefault(),e=localStorage.getItem("affid"),r=localStorage.getItem("cpaid"),localStorage.getItem("redirectUrl")?t=new URL(localStorage.getItem("redirectUrl")):(t=new URL(o.href),e&&r&&(t.pathname="/"+e+"/"+r)),n.forEach(function(e){a.searchParams.has(e)&&t.searchParams.set(e,localStorage.getItem(e))}),document.location.href=t)})}();